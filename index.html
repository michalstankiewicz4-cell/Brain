<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Brain 3D – Image Memory</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- SIDE PANEL (LEFT SIDE) -->
<div id="right-panel">

    <!-- SECTION 1 — EDITOR -->
    <div class="section draggable" data-section="editor">
        <div class="section-header">
            <div class="drag-handle">⋮⋮</div>
            <h3 class="collapsible-toggle">Editor 16×16</h3>
        </div>

        <div class="section-content">

            <div id="color-picker">
                <div class="color-swatch" data-col="#ff4444" style="background:#ff4444"></div>
                <div class="color-swatch" data-col="#44ff44" style="background:#44ff44"></div>
                <div class="color-swatch" data-col="#4488ff" style="background:#4488ff"></div>
                <div class="color-swatch" data-col="#ffffff" style="background:#ffffff"></div>
            </div>

            <div id="editor-row">
                <canvas id="pixel-editor"></canvas>
                <canvas id="brain-output"></canvas>
            </div>

            <div id="controls">
                <button id="btn-save">SAVE</button>
                <button id="btn-recall">LOAD</button>
                <button id="btn-clear">CLEAR</button>
            </div>

        </div>
    </div>

    <!-- SECTION 2 — BRAIN GENERATOR -->
    <div class="section draggable" data-section="brain-generator">
        <div class="section-header">
            <div class="drag-handle">⋮⋮</div>
            <h3 class="collapsible-toggle">Brain Generator</h3>
        </div>

        <div class="section-content">

            <div class="form-row">
                <label>Number of neurons:</label>
                <input id="brain-count" type="number" min="10" max="1000" value="256">
            </div>

            <div class="form-row">
                <label>Generation mode:</label>
                <select id="brain-mode">
                    <option value="fixed">Fixed values</option>
                    <option value="random">Random ranges</option>
                </select>
            </div>

            <div class="form-row">
                <label>Connection mode:</label>
                <select id="brain-connection-mode">
                    <option value="random">Random</option>
                    <option value="nearest">Nearest</option>
                </select>
            </div>

            <!-- FIXED MODE -->
            <div id="fixed-params">

                <div class="form-row">
                    <label>Dendrites per neuron:</label>
                    <input id="brain-dendrites" type="number" min="1" max="10" value="3">
                </div>

                <div class="form-row">
                    <label>Connections per neuron:</label>
                    <input id="brain-connections" type="number" min="1" max="20" value="5">
                </div>

                <div class="form-row">
                    <label>Connection weight:</label>
                    <input id="brain-weight" type="number" min="0.1" max="1" step="0.1" value="0.5">
                </div>

            </div>

            <!-- RANDOM MODE -->
            <div id="random-params" style="display:none;">

                <div class="form-row">
                    <label>Dendrites:</label>
                    <span>from</span>
                    <input id="dend-min" type="number" min="1" max="10" value="2">
                    <span>to</span>
                    <input id="dend-max" type="number" min="1" max="10" value="6">
                </div>

                <div class="form-row">
                    <label>Connections:</label>
                    <span>from</span>
                    <input id="conn-min" type="number" min="1" max="20" value="3">
                    <span>to</span>
                    <input id="conn-max" type="number" min="1" max="20" value="12">
                </div>

                <div class="form-row">
                    <label>Weight:</label>
                    <span>from</span>
                    <input id="weight-min" type="number" min="0.1" max="1" step="0.1" value="0.2">
                    <span>to</span>
                    <input id="weight-max" type="number" min="0.1" max="1" step="0.1" value="0.8">
                </div>

            </div>

            <div class="button-row">
                <button id="btn-generate-brain">GENERATE BRAIN</button>
            </div>

        </div>
    </div>

    <!-- SECTION 3 — BRAIN MEMORY -->
    <div class="section draggable" data-section="brain-memory">
        <div class="section-header">
            <div class="drag-handle">⋮⋮</div>
            <h3 class="collapsible-toggle">Brain Memory</h3>
        </div>

        <div class="section-content">

            <div class="form-row">
                <label>Save method:</label>
                <select id="save-method">
                    <option value="direct">Direct write</option>
                    <option value="hebb">Hebb</option>
                    <option value="hopfield">Hopfield</option>
                </select>
            </div>

            <div class="form-row">
                <label>Load method:</label>
                <select id="load-method">
                    <option value="direct">Direct read</option>
                    <option value="hebb">Hebb</option>
                    <option value="hopfield">Hopfield</option>
                </select>
            </div>

            <div class="button-row">
                <button id="btn-brain-save">SAVE TO BRAIN</button>
                <button id="btn-brain-load">LOAD FROM BRAIN</button>
            </div>

        </div>
    </div>

    <!-- SECTION 4 — THUMBNAILS -->
    <div class="section draggable" data-section="thumbnails">
        <div class="section-header">
            <div class="drag-handle">⋮⋮</div>
            <h3 class="collapsible-toggle">Thumbnail Memory</h3>
        </div>

        <div class="section-content">
            <div id="memory-list"></div>
            <div class="button-row">
                <button id="btn-delete">DELETE</button>
            </div>
        </div>
    </div>

</div>

<!-- PANEL RESIZER HANDLE -->
<div id="panel-resizer"></div>

<!-- BRAIN 3D -->
<div id="brain-container">
    <canvas id="brain-canvas"></canvas>
</div>

<!-- PROJECT SCRIPTS -->
<script src="brain3d.js"></script>
<script src="brain_render.js"></script>
<script src="brain_memory.js"></script>
<script src="pixel_editor.js"></script>

<!-- NEW 3 UI FILES -->
<script src="ui_core.js"></script>
<script src="ui_panel.js"></script>
<script src="ui_state.js"></script>

<script src="main.js"></script>

</body>
</html>
